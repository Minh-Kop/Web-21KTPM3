<div class='text-start px-4 row m-0 pb-3' style='background-color: #eae7dc'>
    <p class='fs-2 fw-bold' style='color: #e85a4f'>
        Danh sách tài khoản
    </p>
    <div
        class='card col-2 mt-3 border border-success rounded h-100 p-2 text-center'
    >
        <div
            class='card-header text-warning-emphasis fs-6'
            style='background-color: #d8c3a5; height: 230px'
        >
            <img src='{{avatarPath}}' alt='' class='img-thumbnail' />
            {{username}}
        </div>
        <ul class='list-group list-group-flush'>
            <li class='list-group-item'>
                <a
                    href='/user/me'
                    class='fs-5'
                    style='text-decoration: none; color: black'
                >
                    Sản phẩm
                </a>
            </li>
            <li class='list-group-item'>
                <a
                    href='/shippingAddress'
                    class='fs-5'
                    style='text-decoration: none; color: black'
                >Đơn hàng</a>
            </li>
            <li class='list-group-item'>
                <a
                    href='/order/me'
                    class='fs-5'
                    style='text-decoration: none; color: black'
                >Thống kê</a>
            </li>
            <li class='list-group-item' style='background-color: #e98074'>
                <a
                    href='/shippingAddress'
                    class='fs-5'
                    style='text-decoration: none; color: black'
                >Tài khoản</a>
            </li>
            <li class='list-group-item'>
                <a
                    href='/shippingAddress'
                    class='fs-5'
                    style='text-decoration: none; color: black'
                >Danh mục</a>
            </li>
        </ul>
    </div>
    <div class='container col-10'>
        <div
            class='container mt-3 border border-success rounded text-start'
            style='background-color: FFFFFF'
        >
            <table class='table table-striped table-hover text-center'>
                <thead>
                    <tr>
                        <th scope='col'>UserId</th>
                        <th scope='col'>Avatar</th>
                        <th scope='col'>Username</th>
                        <th scope='col'>Email</th>
                        <th scope='col'>Họ và tên</th>
                        <th scope='col'>Số điện thoại</th>
                        <th scope='col'>Giới tính</th>
                        <th scope='col'>Ngày sinh</th>
                        <th scope='col'>Vai trò</th>
                        <th scope='col'></th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        {{#each users}}
                            <th scope='row'>{{userId}}</th>
                            <td>
                                <img
                                    src='{{avatarPath}}'
                                    alt=''
                                    class='img-thumbnail'
                                    style='width: 100px; height: 100px'
                                />
                            </td>
                            <td>{{username}}</td>
                            <td>{{email}}</td>
                            <td>{{fullName}}</td>
                            <td>{{phoneNumber}}</td>
                            <td>{{#if gender}} Nữ {{else}} Nam {{/if}}</td>
                            <td>{{birthday}}</td>
                            <td>{{role}}</td>
                            <td>
                                <i
                                    class='fa-solid fa-trash delete'
                                    style='cursor: pointer'
                                    data-id='{{userId}}'
                                ></i>
                            </td>
                            <td>
                                <a href='/user/{{userId}}' style='color: black'>
                                    <i
                                        class='fa-solid fa-circle-info'
                                        style='cursor: pointer'
                                    ></i>
                                </a>
                            </td>
                        {{/each}}
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
<script>
    $(".delete").click(function () { const swalWithBootstrapButtons =
    Swal.mixin({ customClass: { confirmButton: "btn btn-success ms-3",
    cancelButton: "btn btn-danger", }, buttonsStyling: false, });
    swalWithBootstrapButtons .fire({ title: "Bạn có chắc là muốn xóa người dùng
    này?", text: "Bạn sẽ không thể hoàn tác!", icon: "warning",
    showCancelButton: true, confirmButtonText: "Xóa!", cancelButtonText: "Hủy.",
    reverseButtons: true, }) .then((result) => { if (result.isConfirmed) { const
    userId= $(this).data("id"); $.ajax({ type: "DELETE", url: `/user/${userId}`,
    success: function (response) { // Handle success, e.g., show a success
    message swalWithBootstrapButtons.fire({ title: "Đã xóa!", text: "Người dùng
    đã xóa thành công", icon: "success", }); }, error: function (error) { //
    Handle error, e.g., show an error message swalWithBootstrapButtons.fire({
    title: "Xóa thất bại", //text: error.responseJSON.message, icon: "error",
    }); }, }); } else if ( /* Read more about handling dismissals below */
    result.dismiss === Swal.DismissReason.cancel ) {
    swalWithBootstrapButtons.fire({ title: "Đã hủy", icon: "error", }); } });
    });
</script>